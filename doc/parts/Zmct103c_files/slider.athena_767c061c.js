var Slide=function(e){var u=new Abstract({start:function(e){},stop:function(){},next:function(){},prev:function(){},goTo:function(e){},onSwitchStart:function(){},onSwitchEnd:function(){},onSpotStart:function(){},onSpotCompleted:function(){}});return Clazz(u,{config:{autoPlay:!0,speed:500,interval:5E3,preLoadSliderNum:1,parallelPreLoad:!0,initSliderLoc:0,isLoop:!0,naturalOrder:1,animationType:"fade",imgDepositSrc:"slider_src",imgPlaceholderSrc:"",sliderImgs:[],bannerEventType:"click",bannerEventMouseoverDelay:300,
quickResponse:!0,carrier:{content:null,banner:null,stopAPAear:null},style:{bannerBtnSelected:"selected",bannerBtnhover:"hover"},extend:{linkDom:null,switchSpot:null,innerStateChange:null}},inherit:Component},function(d){function u(){B();var a=c._.sliderMembers.length,b=d.initSliderLoc;"undefined"!=typeof b&&!isNaN(b)&&0<=b&&b<a||(b=0);0==b&&(c._.inner.currentIndex=a-1);v(b);r()}function w(a){d.autoPlay&&(s(),c._.inner.autoPlayTimer=setInterval(function(){y.call(c)},d.interval))}function s(){c._.inner.autoPlayTimer&&
clearTimeout(c._.inner.autoPlayTimer)}function y(){r();var a=c._.inner.currentIndex;x(a,a>=c._.sliderMembers.length-1?0:a+1)}function C(){r();var a=c._.inner.currentIndex,b=c._.sliderMembers.length;x(a,0==a?b-1:a-1)}function v(a,b){r();var e=c._.inner.currentIndex,g=c._.sliderMembers.length;"undefined"!=typeof a&&!isNaN(a)&&0<=a&&a<g&&x(e,a,b)}function D(a,b,d){e.isFunction(a)&&e(c).bind("switchStart",b,function(b,c,e){a.call(d,b,c,e)})}function E(a,b,d){e.isFunction(a)&&e(c).bind("switchEnd",b,function(b,
c,e){a.call(d,b,c,e)})}function F(a,b,d){e.isFunction(a)&&e(c).bind("spotStart",b,function(b,c,e){a.call(d,b,c,e)})}function G(a,b,d){e.isFunction(a)&&e(c).bind("spotCompleted",b,function(b,c,e){a.call(d,b,c,e)})}d=this.setConfig(d);var c=this,t={linkDom:function(a,b){var d=a.carrier.content;if(d&&0<e(d).length){var g=[];0<a.sliderImgs.length&&e.each(a.sliderImgs,function(h,m){if(""!=m.src){new b;var f=e("\x3cimg "+a.imgDepositSrc+"\x3d'"+m.src+"' src\x3d'"+c.imgPlaceholderSrc+"' alt\x3d'"+m.alt+
"' title\x3d'"+m.title+"'/\x3e"),f=e("\x3ca href\x3d'"+m.href||"#'\x3e\x3c/a\x3e").append(f),f=e("\x3cli\x3e\x3c/li\x3e").append(f);0==g.length&&e(d).html("");e(d).append(f)}});var h=e(d).children("li");e.each(h,function(c,d){var f=e(d).find("img");if(0<f.length){var h=new b;h.sliderObj=e(d);f.attr("src")&&""!=f.attr("src")&&f.attr("src")!=a.imgPlaceholderSrc&&(h.isLoaded=!0);if(f.attr(a.imgDepositSrc)&&""!=f.attr(a.imgDepositSrc)||f.attr("src")&&""!=f.attr("src")){if((f=a.carrier.banner)&&0<e(f).length){0==
g.length&&e(f).html("");var l=e("\x3cli\x3e"+(g.length+1)+"\x3c/li\x3e");e(f).append(l);h.bannerObj=l}g.push(h)}}});1==g.length&&g[0].bannerObj&&0<g[0].bannerObj.length&&g[0].bannerObj.remove();return g}},motionFn:{show:function(a,b,d,g,h){e.each(c._.sliderMembers,function(a,b){b.sliderObj.hide()});b.show();h.call(c)},fade:function(a,b,d,e,h){a.fadeOut(e/2,function(){b.hide().fadeIn(2*e/3,function(){h.call(c)})})},scrollX:function(a,b,d,g,h,k){function m(a){return(new Function("return "+a))()}var f=
a.parent();if(0==f.length||f.get(0)!=b.parent().get(0))t.motionFn.show(a,b,d,g,h);else{k=k?{lt:"top",wh:"outerHeight"}:{lt:"left",wh:"outerWidth"};var p=new c.util.cssStay(["position",k.lt,"overflow"]);p.saveCss([f,a,b]);var n=f[k.wh]();f.css({position:"relative",overflow:"hidden",width:f.outerWidth(),height:f.outerHeight()});e.each(c._.sliderMembers,function(a,b){b.sliderObj.hide()});var H=(-1==d?n:0-n)+"px";a.show().css("position","absolute").animate(m("{'"+k.lt+"':'"+H+"'}"),g,"",function(){p.restoreCss([a]);
a.hide()});d=(-1==d?0-n:n)+"px";b.show().css(m("{'position':'absolute','"+k.lt+"':'"+d+"'}")).animate(m("{'"+k.lt+"':'0px'}"),g,"",function(){p.restoreCss([f,b]);h.call(c)})}},scrollY:function(a,b,c,d,e){t.motionFn.scrollX(a,b,c,d,e,"Y")}}},z=null,z=d.extend.linkDom&&"function"==typeof d.extend.linkDom?d.extend.linkDom:t.linkDom;this._={sliderMembers:z.call(c,d,function(){this.isLoaded=!1;this.bannerObj=this.sliderObj=null})};if(this._.sliderMembers&&0!=this._.sliderMembers.length){d.preLoadSliderNum=
d.preLoadSliderNum>this._.sliderMembers.length?this._.sliderMembers.length:d.preLoadSliderNum;this._events={};this._.inner={currentIndex:0,nextIndex:1,prevIndex:0,motioning:!1,autoPlayTimer:null};this.util={};this.util.cssStay=function(a){this.styles=a||["position","left","overflow","width","height"]};this.util.cssStay.prototype={saveCss:function(a){var b=this.styles;e.each(a,function(a,c){var d=e(c);e.each(b,function(a,b){d.data("css_"+b,d.css(b))})})},restoreCss:function(a,b){var d=this.styles;
e.each(a,function(a,c){var k=e(c);e.each(d,function(a,d){"undefined"!=k.data("css_"+d)&&(k.css(d,k.data("css_"+d)),b&&k.removeData("css_"+d))})})}};var q=function(){"undefined"!=typeof c._events[arguments[0]]&&!1===c._events[arguments[0]]?c._events[arguments[0]]=!0:e(c).trigger.apply(e(c),arguments)},I=function(){this.imgObj=null},J=function(a,b,l){var g=function(){var g=c._.sliderMembers.length||0,f=[];f.push(a);for(var h=1;h<=b;h++){var k=a+h<=g-1?a+h:a+h-g;-1==e.inArray(k,f)&&f.push(k);k=0<=a-
h?a-h:a+g-h;-1==e.inArray(k,f)&&f.push(k)}if(0!==f.length){var l=[];e.each(f,function(a,b){if(!1==c._.sliderMembers[b].isLoaded){var f=c._.sliderMembers[b].sliderObj.find("img"),g=l.length;e.each(f,function(a,b){var c=e(b).attr(d.imgDepositSrc),f=e(b).attr("src");f&&""!=f&&f!=d.imgPlaceholderSrc||!c||""==c||(c=new I,c.imgObj=e(b),l.push(c))});g==l.length&&(c._.sliderMembers[b].isLoaded=!0)}});return l}}();if(g||!(0<g.length))if(d.parallelPreLoad){for(var h=0;h<g.length;h++){var k=g[h];k&&(k.imgObj.attr("src",
k.imgObj.attr(d.imgDepositSrc)),k.imgObj.removeAttr(d.imgDepositSrc))}l.call(c,!1)}else{var m=null,f=0,p=function(a,b){clearTimeout(m);a&&(a.imgObj.attr("src",a.imgObj.attr(d.imgDepositSrc)),a.imgObj.removeAttr(d.imgDepositSrc));b&&b<f||(f++,f==g.length?l.call(c,!0):(l.call(c,!1),n(g[f])))},n=function(a){if(a){var b=a.imgObj.attr(d.imgDepositSrc),c=new Image;c.src=b;setTimeout(function(){c.complete?p(a):(m=setTimeout(function(){p()},3E3),e(c).bind("onreadystatechange load",{index:f},function(b){p(a,
b.data.index)}))},25)}};n(g[f])}},A=function(a){a="number"==typeof a?a:c._.inner.currentIndex;var b=c._.sliderMembers;e.each(b,function(a,b){b.bannerObj&&b.bannerObj.removeClass(d.style.bannerBtnSelected)});b[a].bannerObj&&b[a].bannerObj.addClass(d.style.bannerBtnSelected)};d.extend.innerStateChange&&"function"==typeof d.extend.innerStateChange&&(A=d.extend.innerStateChange);var x=function(a,b,e){var g=c._.sliderMembers.length||1,h=0;if("undefined"!=typeof a&&!isNaN(a)&&0<=a&&a<g&&"undefined"!=typeof b&&
!isNaN(b)&&0<=b&&b<g&&a!=b&&!c._.inner.motioning){J(b,d.preLoadSliderNum,function(a){});d.naturalOrder&&0!=d.naturalOrder&&(h=1==d.naturalOrder&&a>b?-1:1);var k=null;if(k=d.extend.switchSpot&&"function"==typeof d.extend.switchSpot?d.extend.switchSpot:t.motionFn[d.animationType]){c._.inner.motioning=!0;var m=e&&"function"==typeof e?e:function(){},f=function(a,b){c._.inner.currentIndex=a;q("switchEnd");b?(c._.inner.motioning=!1,q("spotCompleted"),m.call(c,!0)):m.call(c,!1)};q("spotStart",b);A.call(c,
b);if(0==h)q("switchStart",b),k.call(c,c._.sliderMembers[a].sliderObj,c._.sliderMembers[b].sliderObj,0,d.speed,function(){f.call(c,b,!0)});else{var p=d.speed/Math.abs(a-b),n=function(d,e){var g=c._.sliderMembers[d].sliderObj,l=c._.sliderMembers[e].sliderObj;q("switchStart",e);k.call(c,g,l,h,p,function(){e==b?f.call(c,e,!0):(f.call(c,e,!1),c._.inner.motioning||(p=0),a>b?n.call(c,d-1,e-1):n.call(c,d+1,e+1))})};n(a,a>b?a-1:a+1)}}}},B=function(){var a,b=function(a){s();v(a,function(a){})};e.each(c._.sliderMembers,
function(l,g){"click"==d.bannerEventType&&g.bannerObj&&g.bannerObj.bind(d.bannerEventType,function(){b.call(c,l)});g.bannerObj&&g.bannerObj.hover(function(){"mouseover"==d.bannerEventType?a=setTimeout(function(){e(g.bannerObj).addClass(d.style.bannerBtnhover);b.call(c,l)},d.bannerEventMouseoverDelay):e(g.bannerObj).addClass(d.style.bannerBtnhover)},function(){e(g.bannerObj).removeClass(d.style.bannerBtnhover);clearTimeout(a?a:null)});var h=d.carrier.stopAPAear?e(d.carrier.stopAPAear):g.sliderObj?
g.sliderObj:null;h&&h.hover(function(){s()},function(){w()})})},r=function(){d.quickResponse&&(c._.inner.motioning=!1,e.each(c._.sliderMembers,function(a,b){b.sliderObj.stop(!0,!0)}))};this.start.implement(w);this.stop.implement(s);this.next.implement(y);this.prev.implement(C);this.goTo.implement(v);this.onSwitchStart.implement(D);this.onSwitchEnd.implement(E);this.onSpotStart.implement(F);this.onSpotCompleted.implement(G);u();d.autoPlay&&w()}})}.call(this,jQuery);